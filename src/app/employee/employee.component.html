<!-- table -->
<br />

<div class="container-fluid mt-5 pt-4">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div
          class="card-header text-white"
          style="background-color: #3f51b5; font-size: 18px"
        >
          <span class="pt-5">Employee List</span>
          <span style="float: right">
            <button
              mat-raised-button
              (click)="showDialog()"
              style="width: 0px; height: 32px"
            >
              Create
            </button>
          </span>
        </div>

        <div class="card-body table-secondary">
          <table class="table table-bordered" style="width: 100%">
            <thead>
              <tr>
                <th>Sr</th>
                <th style="width: 265px">Name</th>
                <th>Contact</th>
                <th>Email</th>
                <th>City</th>
                <th>State</th>
                <th style="width: 165px">Action</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let employee of employeeArray; let sr = index">
                <td>{{ sr + 1 }}</td>
                <td>{{ employee.empName }}</td>
                <td>{{ employee.empContactNo }}</td>
                <td>{{ employee.empEmail }}</td>
                <td>{{ employee.city }}</td>
                <td>{{ employee.state }}</td>
                <td>
                  <button
                    style="width: 0px; height: 32px"
                    mat-raised-button
                    color="primary"
                    (click)="onEdit(employee.empId)"
                  >
                    Edit
                  </button>
                  <button
                    style="width: 0px; height: 32px"
                    mat-raised-button
                    color="warn"
                    (click)="onDelete(employee.empId)"
                  >
                    Delete
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- pop up -->

<div class="card flex justify-content-center">
  <p-dialog
    header="Create Employee"
    class="bordered"
    [(visible)]="visible"
    [style]="{ width: '50vw', height: '400px' }"
  >
    <div class="modal-body">
      <div class="row pt-2">
        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Employee Name</mat-label>
            <input matInput type="text" [(ngModel)]="employeeObj.empName" />
            <button
              *ngIf="value"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="value = ''"
            >
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Email</mat-label>
            <input matInput type="text" [(ngModel)]="employeeObj.empEmail" />
            <button
              *ngIf="value"
              matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="value = ''"
            >
              <mat-icon>close</mat-icon>
            </button>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Contact No</mat-label>
            <input
              type="tel"
              maxlength="10"
              matInput
              placeholder="555-555-1234"
              [(ngModel)]="employeeObj.empContactNo"
            />
          </mat-form-field>
        </div>

        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Altr Contact No</mat-label>
            <input
              type="tel"
              maxlength="10"
              matInput
              placeholder="555-555-1234"
              [(ngModel)]="employeeObj.empAltContactNo"
            />
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <mat-form-field class="example-full-width">
            <mat-label>Address</mat-label>
            <textarea
              matInput
              placeholder="Ex. 100 Main St"
              [(ngModel)]="employeeObj.addressLine1"
            >
1600 Amphitheatre Pkwy</textarea
            >
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Address 2</mat-label>
            <textarea
              matInput
              [(ngModel)]="employeeObj.addressLine2"
            ></textarea>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>City</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.city"
            />
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>State</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.state"
            />
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>Pincode</mat-label>
            <input
              matInput
              #postalCode
              maxlength="6"
              placeholder="Ex. 941050"
              value="94043"
              [(ngModel)]="employeeObj.pincode"
            />
            <mat-hint align="end">{{ postalCode.value.length }} / 6</mat-hint>
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>Bank Name</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.bankName"
            />
          </mat-form-field>
        </div>

        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>IFSC Code</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.iFSC"
            />
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="example-full-width">
            <mat-label>Account No</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.accountNo"
            />
          </mat-form-field>
        </div>
      </div>

      <div class="row">
        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Bank Branch</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.bankBranch"
            />
          </mat-form-field>
        </div>
        <div class="col-6">
          <mat-form-field class="example-full-width">
            <mat-label>Salary</mat-label>
            <input
              matInput
              placeholder="Ex. San Francisco"
              [(ngModel)]="employeeObj.salary"
            />
          </mat-form-field>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button
        style="background-color: rgba(76, 73, 73, 0.826); color: white"
        mat-raised-button
        (click)="onReset()"
      >
        Reset
      </button>
      <button
        mat-raised-button
        color="primary"
        *ngIf="this.employeeObj.empId == 0"
        (click)="saveEmployee()"
      >
        Save
      </button>
      <button
        mat-raised-button
        color="primary"
        *ngIf="this.employeeObj.empId !== 0"
        (click)="updateEmployees()"
      >
        Update
      </button>
    </div>
  </p-dialog>
</div>
<p-toast position="top-center"></p-toast>
